{"version":3,"sources":["collections/comments.collection.js"],"names":[],"mappings":";;AAAA,MAAM,CAAC,CACL,UAAU,EACV,YAAY,EACZ,sBAAsB,EACtB,mBAAmB,EACnB,WAAW,CACX,EACD,UAAU,QAAQ,EAAE,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE;AAC1C,QAAO,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC;AACjC,OAAK,EAAE,OAAO;;AAEd,YAAU,EAAE,UAAU,MAAM,EAAE,OAAO,EAAE;AACtC,OAAI,CAAC,EAAE,GAAG,OAAO,CAAC,EAAE,CAAC;AACrB,OAAI,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;AACzB,OAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;GAC3B;;AAED,KAAG,EAAE,YAAY;AAChB,UAAO,2BAA2B,GAAG,IAAI,CAAC,IAAI,GAAG,YAAY,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC;GACrG;;AAED,OAAK,EAAE,UAAU,QAAQ,EAAE;AAC1B,OAAI,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;;AAE7C,OAAI,CAAC,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;AAE9B,OAAI,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC;;;AAG3B,YAAS,MAAM,CAAC,KAAK,EAAE;AACtB,QAAI,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC;;AAExB,UAAM,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;;AAEzB,QAAI,MAAM,CAAC,OAAO,EAAE;AACnB,WAAM,CAAC,OAAO,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;KAC7D;;AAED,WAAO,MAAM,CAAC;IACd;;AAED,UAAO,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;GAChD;EACD,CAAC,CAAC;CACH,CAAC,CAAC","file":"collections/comments.collection.js","sourcesContent":["define([\n\t\t'backbone',\n\t\t'underscore',\n\t\t'models/comment.model',\n\t\t'models/post.model',\n\t\t'utils/url'\n\t],\n\tfunction (Backbone, _, Comment, Post, url) {\n\t\treturn Backbone.Collection.extend({\n\t\t\tmodel: Comment,\n\n\t\t\tinitialize: function (models, options) {\n\t\t\t\tthis.id = options.id;\n\t\t\t\tthis.name = options.name;\n\t\t\t\tthis.title = options.title;\n\t\t\t},\n\n\t\t\turl: function () {\n\t\t\t\treturn 'https://www.reddit.com/r/' + this.name + '/comments/' + this.id + '/' + this.title + '.json';\n\t\t\t},\n\n\t\t\tparse: function (response) {\n\t\t\t\tvar post = response[0].data.children[0].data;\n\n\t\t\t\tpost.url = url.port(post.url);\n\n\t\t\t\tthis.post = new Post(post);\n\n\n\t\t\t\tfunction curses(child) {\n\t\t\t\t\tvar object = child.data;\n\n\t\t\t\t\tobject.kind = child.kind;\n\n\t\t\t\t\tif (object.replies) {\n\t\t\t\t\t\tobject.replies = _.map(object.replies.data.children, curses);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn object;\n\t\t\t\t}\n\n\t\t\t\treturn _.map(response[1].data.children, curses);\n\t\t\t}\n\t\t});\n\t});"],"sourceRoot":"/source/"}