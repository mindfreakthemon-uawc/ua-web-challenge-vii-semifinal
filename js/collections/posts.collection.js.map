{"version":3,"sources":["collections/posts.collection.js"],"names":[],"mappings":"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","file":"collections/posts.collection.js","sourcesContent":["define([\n\t\t'underscore',\n\t\t'paginator',\n\t\t'models/post.model',\n\t\t'utils/url'\n\t],\n\tfunction (_, Paginator, Post, url) {\n\n\t\treturn Paginator.extend({\n\t\t\tmodel: Post,\n\n\t\t\tmode: 'infinite',\n\n\t\t\tqueryParams: {\n\t\t\t\tpageSize: null,\n\t\t\t\tcurrentPage: null,\n\t\t\t\ttotalPages: null,\n\t\t\t\ttotalRecords: null,\n\t\t\t\tsortKey: null,\n\t\t\t\torder: null,\n\t\t\t\tcount: function () {\n\t\t\t\t\tvar isBefore = this.state.anchorType === 'before',\n\t\t\t\t\t\tpadding = isBefore ? 1 : 0;\n\n\t\t\t\t\treturn this.state.pageSize * (padding + this.state.currentPage) + padding;\n\t\t\t\t},\n\t\t\t\tafter: function () {\n\t\t\t\t\tif (this.state.anchorType === 'after') {\n\t\t\t\t\t\treturn this.state.anchor;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn null;\n\t\t\t\t},\n\t\t\t\tbefore: function () {\n\t\t\t\t\tif (this.state.anchorType === 'before') {\n\t\t\t\t\t\treturn this.state.anchor;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tstate: {\n\t\t\t\tfirstPage: 0,\n\t\t\t\tcurrentPage: 0\n\t\t\t},\n\n\t\t\tparseLinks: function (response) {\n\t\t\t\tvar after = response.data.after,\n\t\t\t\t\tbefore = response.data.before;\n\n\t\t\t\tif (!this.links[this.state.currentPage]) {\n\t\t\t\t\tthis.links[this.state.currentPage] = this.url.bind(this, { anchorType: this.state.anchorType, anchor: this.state.anchor });\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tfirst: null,\n\t\t\t\t\tnext: after ? this.url.bind(this, { anchorType: 'after', anchor: after }) : null,\n\t\t\t\t\tprev: before ? this.url.bind(this, { anchorType: 'before', anchor: before }) : null\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tparseRecords: function (response) {\n\t\t\t\treturn _.map(response.data.children, function (child) {\n\t\t\t\t\tvar object = child.data;\n\n\t\t\t\t\tobject.url = url.port(object.url);\n\n\t\t\t\t\treturn object;\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tinitialize: function (models, options) {\n\t\t\t\tthis.type = options.type;\n\t\t\t\tthis.name = options.name;\n\n\t\t\t\tthis.state.anchorType = options.anchorType;\n\t\t\t\tthis.state.anchor = options.anchor;\n\t\t\t\tthis.state.currentPage = options.page;\n\t\t\t},\n\n\t\t\turl: function (data) {\n\t\t\t\tif (data) {\n\t\t\t\t\tthis.state.anchorType = data.anchorType;\n\t\t\t\t\tthis.state.anchor = data.anchor;\n\t\t\t\t}\n\n\t\t\t\treturn 'https://www.reddit.com/r/' + this.name + '/' + this.type + '.json';\n\t\t\t}\n\t\t});\n\t});"],"sourceRoot":"/source/"}